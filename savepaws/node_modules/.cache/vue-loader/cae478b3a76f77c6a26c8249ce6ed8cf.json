{"remainingRequest":"/Users/mac/Desktop/save-pets-ui/savepaws/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/save-pets-ui/savepaws/src/pages/find-location-page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/save-pets-ui/savepaws/src/pages/find-location-page.vue","mtime":1600185029439},{"path":"/Users/mac/Desktop/save-pets-ui/savepaws/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/save-pets-ui/savepaws/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/save-pets-ui/savepaws/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/save-pets-ui/savepaws/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8qIGVzbGludC1kaXNhYmxlICovCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgc3RhdHVzIH0gZnJvbSAiLi4vc3RvcmUvbW9kdWxlcy91c2VyLWluZm8iOwppbXBvcnQgU0J1dHRvbiBmcm9tICIuLi91aS9zLWJ1dHRvbi52dWUiOwppbXBvcnQgU0lucHV0IGZyb20gIi4uL3VpL3MtaW5wdXQudnVlIjsKaW1wb3J0IFNNb2RhbCBmcm9tICIuLi91aS9zLW1vZGFsLnZ1ZSI7CmltcG9ydCBTUmFkaW8gZnJvbSAiLi4vdWkvcy1yYWRpby52dWUiOwppbXBvcnQgU1ByZWxvYWRlciBmcm9tICIuLi91aS9zLXByZWxvYWRlci52dWUiOwppbXBvcnQgU0RyaXZlckZlZWRiYWNrIGZyb20gIi4uL3VpL3MtZHJpdmVyLWZlZWRiYWNrLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImZpbmQtbG9jYXRpb24tcGFnZSIsCgogIGRhdGE6ICgpID0+ICh7CiAgICBwcmVsb2FkOiB0cnVlLAogICAgY2FuY2VsTTogewogICAgICByYWRpbzogJycsCiAgICAgIHRleHRhcmVhOiAnJywKICAgIH0sCiAgICBpc01pc3Npb25DYW5jZWw6IGZhbHNlLAogICAgZm9vdGVyOiBmYWxzZSwKICB9KSwgCgogIGNvbXBvbmVudHM6IHsKICAgIFNCdXR0b24sCiAgICBTSW5wdXQsCiAgICBTTW9kYWwsCiAgICBTUmFkaW8sCiAgICBTUHJlbG9hZGVyLAogICAgU0RyaXZlckZlZWRiYWNrLAogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsiY29vcmRzIiwgImFkZHJlc3MiLCAicmVxdWVzdFN0YXR1cyJdKSwKICAgIHpvb206ICgpID0+IDE2LAogICAgaXNNb2RhbFZpc2libGUoKSB7CiAgICAgIHJldHVybiBzdGF0dXMuRklOSVNIID09PSB0aGlzLnJlcXVlc3RTdGF0dXM7CiAgICB9LAogICAgLy9pc01pc3Npb25DYW5jZWwoKSB7CiAgICAvLyAgcmV0dXJuIHN0YXR1cy5GQUlMID09PSB0aGlzLnJlcXVlc3RTdGF0dXM7CiAgICAvL30sCiAgICBpc0xvY2F0aW9uRW50ZXJlZCgpIHsKICAgICAgcmV0dXJuICEhdGhpcy5hZGRyZXNzOwogICAgfSwKICAgIG1hcE9wdGlvbnM6ICgpID0+ICh7CiAgICAgIHpvb21Db250cm9sOiBmYWxzZSwKICAgICAgbWFwVHlwZUNvbnRyb2w6IGZhbHNlLAogICAgICBmdWxsc2NyZWVuQ29udHJvbDogZmFsc2UsCiAgICAgIHN0cmVldFZpZXdDb250cm9sOiBmYWxzZSwKICAgIH0pLAogIH0sCgogIGJlZm9yZUNyZWF0ZSgpIHsKICAgIHRoaXMucHJlbG9hZCA9IHRydWU7CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJHJlZnMubWFwLiRtYXBQcm9taXNlLnRoZW4oKCkgPT4gewogICAgICB0aGlzLmdldEN1cnJlbnRMb2NhdGlvbigpOwogICAgICB0aGlzLnByZWxvYWQgPSBmYWxzZTsKICAgIH0pOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWyJnZXRDdXJyZW50TG9jYXRpb24iLCAic2V0QWRkcmVzcyIsICJyZXNldFN0YXR1cyJdKSwKICAgIHJlc2V0Q2VudGVyKCkgewogICAgICB0aGlzLiRyZWZzLm1hcC5wYW5Ubyh0aGlzLmNvb3Jkcyk7CiAgICB9LAogICAgY2xlYXJJbnB1dCgpIHsKICAgICAgLy/QuNC70LggdGhpcy4kc2V0INC4INGB0L7Qt9C00LDQvdC40LUg0L3QvtCy0L7Qs9C+INC+0LHRitC10LrRgtCwIAogICAgICAvL9C40LvQuCDQvNGD0YLQsNGG0LjRjyDQtdGB0YLRjCDQtNC+0LHQsNCy0LjRgtGMINCyIGNvbXB1dGVkICAgLi4ubWFwU3RhdGUoeyBtZXNzYWdlOiBzdGF0ZSA9PiBzdGF0ZS5vYmoubWVzc2FnZQogICAgICAvL9C40LvQuCDRjdGC0L4g0LIg0LzQtdGC0L7QtCwg0LAg0LIgY29tcHV0ZWQg0LfQsNC00LDRgtGMINC30L3QsNGH0LXQvdC40LUKICAgICAgICB0aGlzLmFkZHJlc3MgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hZGRyZXNzID0gIiI7CiAgICAgICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUuYWRkcmVzcyk7CiAgICB9LAogICAgCiAgICBNaXNzaW9uQ2FuY2VsKHZhbHVlKSB7CiAgICAgIGlmKHZhbHVlKSB7CiAgICAgICAgdGhpcy5pc01pc3Npb25DYW5jZWwgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICghdmFsdWUpIHsKICAgICAgICB0aGlzLmlzTWlzc2lvbkNhbmNlbCA9IGZhbHNlOwogICAgICB9CiAgICB9LCAKICB9LAoKfTsK"},{"version":3,"sources":["find-location-page.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"find-location-page.vue","sourceRoot":"src/pages","sourcesContent":["<script>\n/* eslint-disable */\nimport { mapGetters, mapActions } from \"vuex\";\nimport { status } from \"../store/modules/user-info\";\nimport SButton from \"../ui/s-button.vue\";\nimport SInput from \"../ui/s-input.vue\";\nimport SModal from \"../ui/s-modal.vue\";\nimport SRadio from \"../ui/s-radio.vue\";\nimport SPreloader from \"../ui/s-preloader.vue\";\nimport SDriverFeedback from \"../ui/s-driver-feedback.vue\";\n\nexport default {\n  name: \"find-location-page\",\n\n  data: () => ({\n    preload: true,\n    cancelM: {\n      radio: '',\n      textarea: '',\n    },\n    isMissionCancel: false,\n    footer: false,\n  }), \n\n  components: {\n    SButton,\n    SInput,\n    SModal,\n    SRadio,\n    SPreloader,\n    SDriverFeedback,\n  },\n\n  computed: {\n    ...mapGetters([\"coords\", \"address\", \"requestStatus\"]),\n    zoom: () => 16,\n    isModalVisible() {\n      return status.FINISH === this.requestStatus;\n    },\n    //isMissionCancel() {\n    //  return status.FAIL === this.requestStatus;\n    //},\n    isLocationEntered() {\n      return !!this.address;\n    },\n    mapOptions: () => ({\n      zoomControl: false,\n      mapTypeControl: false,\n      fullscreenControl: false,\n      streetViewControl: false,\n    }),\n  },\n\n  beforeCreate() {\n    this.preload = true;\n  },\n\n  mounted() {\n    this.$refs.map.$mapPromise.then(() => {\n      this.getCurrentLocation();\n      this.preload = false;\n    });\n  },\n\n  methods: {\n    ...mapActions([\"getCurrentLocation\", \"setAddress\", \"resetStatus\"]),\n    resetCenter() {\n      this.$refs.map.panTo(this.coords);\n    },\n    clearInput() {\n      //или this.$set и создание нового объекта \n      //или мутация есть добавить в computed   ...mapState({ message: state => state.obj.message\n      //или это в метод, а в computed задать значение\n        this.address = this.$store.state.address = \"\";\n        console.log(this.$store.state.address);\n    },\n    \n    MissionCancel(value) {\n      if(value) {\n        this.isMissionCancel = false;\n      } else if (!value) {\n        this.isMissionCancel = false;\n      }\n    }, \n  },\n\n};\n</script>\n\n<template>\n  <div class=\"find-location-page\">\n    <div class=\"find-location-page__map\">\n      <router-link\n        :to=\"{name: 'home-page', params: {\n          fromLookup: true\n        }}\"\n        class=\"find-location-page__backward\"\n      >\n        <s-icon name=\"paw\" fill=\"var(--white)\" />\n      </router-link>\n\n      <button class=\"find-location-page__location-btn\" @click=\"resetCenter\">\n        <s-icon name=\"location\" />\n      </button>\n\n      <google-map ref=\"map\" :zoom=\"zoom\" :center=\"coords\" :options=\"mapOptions\">\n        <google-map-marker\n          :position=\"coords\"\n          :icon=\"{\n            url: require('../assets/vector/placeholder.pure.svg')\n          }\"\n        />\n      </google-map>\n    </div>\n\n    <div class=\"find-location-page__footer\" v-if=\"footer\">\n      <s-input\n        label=\"Місце розташування\"\n        class=\"find-location-page__textfield\"\n        type=\"search\"\n        @clear=\"clearInput\"\n      >\n        <google-map-autocomplete :value=\"address\" placeholder @place_changed=\"setAddress\" />\n      </s-input>\n\n      <s-button\n        class=\"find-location-page__footer-submit\"\n        :disabled=\"!isLocationEntered\"\n        :to=\"{name: 'set-info-page'}\"\n      >Знайшов тварину</s-button>\n    </div>\n    <s-driver-feedback v-else-if=\"!footer\">\n \n    </s-driver-feedback>\n\n    <portal-target name=\"modal\">\n      <s-modal v-if=\"isModalVisible\" class=\"find-location-page__modal\" title=\"Дякуємо тобі!\">\n        <p\n          class=\"find-location-page__modal-message\"\n        >Сподіваємося знайти тварину на локації, яку ти нам залишив.</p>\n\n        <s-button slot=\"footer\" @click=\"resetStatus\">Місія завершена</s-button>\n      </s-modal>\n    </portal-target>\n    <portal-target name=\"modal-cancel-mission\">\n      <s-modal v-if=\"isMissionCancel\" class=\"modal-cancel-mission\" title=\"Щось пішло не так?\">\n        <fieldset class=\"modal-cancel-mission__body\">\n          <s-radio name=\"s\" v-model=\"cancelM.radio\" :value=\"'animal escaped'\" label=\"тварина втікла\" />\n          <s-radio name=\"s\" v-model=\"cancelM.radio\" :value=\"'the service took a long time'\" label=\"служба дуже довго їхала\" />\n          <s-radio name=\"s\" v-model=\"cancelM.radio\" :value=\"'personal circumstances'\" label=\"не зміг залишитися через власні обставини\" />\n          <label class=\"modal-cancel-mission-message\">\n            <p>Твоя відповідь:</p>\n            <textarea v-model=\"cancelM.textarea\" name=\"s\" rows=\"6\" />\n          </label>\n        </fieldset>\n\n        <s-button class=\"modal-cancel-mission-message__btn\" slot=\"footer\" @click=\"MissionCancel(true)\" :disabled=\"!(cancelM.radio || cancelM.textarea)\">Підтвердити</s-button>\n        <s-button class=\"modal-cancel-mission-message__btn\" slot=\"footer\" @click=\"MissionCancel(false)\" type=\"secondary\">Скасувати</s-button>\n      </s-modal>\n    </portal-target>\n    <s-preloader v-if=\"preload\"/>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n\n.find-location-page {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.find-location-page__map {\n  flex: 1 0;\n  position: relative;\n}\n\n.find-location-page__footer {\n  height: 185px;\n  padding: 15px 15px 23px;\n  position: relative;\n\n  background: var(--white);\n  border-top: 1px solid rgba(51, 51, 51, 0.2);\n}\n\n.find-location-page__backward {\n  position: absolute;\n  right: 16px;\n  top: 18px;\n  z-index: 99;\n\n  width: 36px;\n  height: 36px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n\n  background: var(--primary);\n  box-shadow: 1px 2px 15px rgba(0, 0, 0, 0.1);\n}\n\n.find-location-page__location-btn {\n  width: 40px;\n  height: 40px;\n\n  position: absolute;\n  left: 16px;\n  bottom: 32px;\n  z-index: 99;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background: var(--white);\n  border-radius: 50%;\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.25);\n  border: none;\n  padding: 0;\n}\n\n.find-location-page__footer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n.find-location-page__footer-submit {\n  margin-top: auto;\n}\n\n.find-location-page__textfield {\n  width: 100%;\n}\n\n.find-location-page__modal-message-mission {\n  text-align: center;\n  font-size: 16px;\n  line-height: 24px;\n  margin: 0;\n}\n\n.find-location-page__footer .pac-target-input {\n  padding-right: 40px;\n}\n\n.modal-cancel-mission__body {\n  border: none;\n  padding: 0;\n}\n\n.modal-cancel-mission .s-radio{\n  border: none;\n}\n\n.modal-cancel-mission-message p {\n  margin: 20px 0 10px 20px;\n  font-size: 13px;\n}\n\n.modal-cancel-mission-message textarea{\n  border-color: var(--primary);\n  border-radius: 20px;\n  width: 100%;\n  resize: none;\n  padding: 10px;\n}\n\n\n</style>\n\n<style>\n.find-location-page__modal .s-modal__container {\n  max-width: 280px;\n}\n\n.modal-cancel-mission .s-modal__container {\n  max-width: 340px;\n  display: flex;\n  flex-direction: column;\n}\n\n.modal-cancel-mission .s-radio__indicator {\n  border: 2px solid var(--primary);\n}\n\n.modal-cancel-mission .s-modal__footer button {\n  margin: 0 auto 16px;\n  width: 70%;\n}\n</style>\n"]}]}